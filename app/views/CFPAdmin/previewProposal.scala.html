@(htmlSummary: String,
  privateMessage:String,
  newProposal: Form[models.Proposal],
  currentUser:String)(implicit flash: Flash, lang: Lang, req:RequestHeader)

@main(newProposal("id").value.map(id => "Edit " + id + " " + newProposal("title").value.getOrElse("")).getOrElse("New proposal preview")) {
    <div class="row">
        <div class="col-md-12">
            @if(newProposal("id").value.isDefined) {
                <h3>@Messages("Edit.proposal.admin")</h3>
            } else {
                <h3>@Messages("New.proposal2")</h3>
            }
            <hr>
        </div>




        <div class="col-md-12">
            <div class="panel">
                <div class="panel-default">
                    <div class="panel-heading">@Messages("summary.preview")</div>
                    <div class="panel-body">
                        <h3><small>@Messages("sw.proposal.title") :</small> @newProposal("title").value</h3>
                        <h4><small>@Messages("sw.proposal.talkType") :</small> @Messages(newProposal("talkType").value.getOrElse(""))</h4>
                        <h4><small>@Messages("sw.proposal.track") :</small> @Messages(newProposal("track").value.getOrElse("") + ".label")</h4>
                        <br>
                        <h4><small>@Messages("admin.proposals.th.abstract") :</small></h4>
                        <div class="proposal_prev">@Html(htmlSummary)</div>
                        <h4><small>@Messages("admin.sp.privateMessage") :</small></h4>
                        <div class="proposal_prev">@Html(privateMessage)</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-12">
            <div class="panel">
                 <div class="panel-default">
                <div class="panel-body">



@helper.form(action = routes.CFPAdmin.saveProposalWithState(ProposalState.APPROVED.code)) {
    <input type="hidden" name="lang" value="@newProposal("lang").value">
    <input type="hidden" name="title" value="@newProposal("title").value">
    <input type="hidden" name="mainSpeaker" value="@newProposal("mainSpeaker").value">
    <input type="hidden" name="otherSpeakers" value="@newProposal("otherSpeakers").value">
    <input type="hidden" name="talkType" value="@newProposal("talkType").value">
    <input type="hidden" name="audienceLevel" value="@newProposal("audienceLevel").value">
    <input type="hidden" name="summary" value="@newProposal("summary").value">
    <input type="hidden" name="privateMessage" value="@newProposal("privateMessage").value">
    <input type="hidden" name="sponsorTalk" value="@newProposal("sponsorTalk").value">
    <input type="hidden" name="userGroup" value="@newProposal("userGroup").value">
    <input type="hidden" name="track" value="@newProposal("track").value">
    <input type="hidden" name="demoLevel" value="@newProposal("demoLevel").value">
    <input type="hidden" name="videoLink" value="@newProposal("videoLink").value">
    <input type="hidden" name="preferences" value="@newProposal("preferences").value">
    <input type="hidden" name="tags[0].value" value="@newProposal("tags[0].value").value">
    <input type="hidden" name="tags[1].value" value="@newProposal("tags[1].value").value">
    <input type="hidden" name="tags[2].value" value="@newProposal("tags[2].value").value">
    <input type="hidden" name="tags[3].value" value="@newProposal("tags[3].value").value">
    <input type="hidden" name="tags[4].value" value="@newProposal("tags[4].value").value">

    <a href="javascript:history.back()" class="btn btn-primary"><i class="icon-arrow-left"></i> @Messages("validate.summary3")</a>

    <input type="hidden" name="id" value="@newProposal("id").value">
    <div class="dropdown dropdown-inline">
        <a href="#" class="btn btn-color-9 dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
        data-animations="bounceInDown bounceInRight bounceInUp bounceInLeft">Choose status and save a proposal<span class="caret"></span></a>
        <ul class="dropdown-menu" role="menu">
    <li><button class="label label-approved" name="a" value="saveDraft"><i class="icon-file-text"></i> save as approved</button></li>
}



@helper.form(action = routes.CFPAdmin.saveProposalWithState(ProposalState.SUBMITTED.code)) {
    <input type="hidden" name="lang" value="@newProposal("lang").value">
    <input type="hidden" name="title" value="@newProposal("title").value">
    <input type="hidden" name="mainSpeaker" value="@newProposal("mainSpeaker").value">
    <input type="hidden" name="otherSpeakers" value="@newProposal("otherSpeakers").value">
    <input type="hidden" name="talkType" value="@newProposal("talkType").value">
    <input type="hidden" name="audienceLevel" value="@newProposal("audienceLevel").value">
    <input type="hidden" name="summary" value="@newProposal("summary").value">
    <input type="hidden" name="privateMessage" value="@newProposal("privateMessage").value">
    <input type="hidden" name="sponsorTalk" value="@newProposal("sponsorTalk").value">
    <input type="hidden" name="userGroup" value="@newProposal("userGroup").value">
    <input type="hidden" name="track" value="@newProposal("track").value">
    <input type="hidden" name="demoLevel" value="@newProposal("demoLevel").value">
    <input type="hidden" name="videoLink" value="@newProposal("videoLink").value">
    <input type="hidden" name="preferences" value="@newProposal("preferences").value">
    <input type="hidden" name="tags[0].value" value="@newProposal("tags[0].value").value">
    <input type="hidden" name="tags[1].value" value="@newProposal("tags[1].value").value">
    <input type="hidden" name="tags[2].value" value="@newProposal("tags[2].value").value">
    <input type="hidden" name="tags[3].value" value="@newProposal("tags[3].value").value">
    <input type="hidden" name="tags[4].value" value="@newProposal("tags[4].value").value">


    <input type="hidden" name="id" value="@newProposal("id").value">

    <li> <button class="label label-submitted" name="a" value="saveDraft"><i class="icon-file-text"></i> save as submitted</button></li>
}



@helper.form(action = routes.CFPAdmin.saveProposalWithState(ProposalState.ACCEPTED.code)) {
    <input type="hidden" name="lang" value="@newProposal("lang").value">
    <input type="hidden" name="title" value="@newProposal("title").value">
    <input type="hidden" name="mainSpeaker" value="@newProposal("mainSpeaker").value">
    <input type="hidden" name="otherSpeakers" value="@newProposal("otherSpeakers").value">
    <input type="hidden" name="talkType" value="@newProposal("talkType").value">
    <input type="hidden" name="audienceLevel" value="@newProposal("audienceLevel").value">
    <input type="hidden" name="summary" value="@newProposal("summary").value">
    <input type="hidden" name="privateMessage" value="@newProposal("privateMessage").value">
    <input type="hidden" name="sponsorTalk" value="@newProposal("sponsorTalk").value">
    <input type="hidden" name="userGroup" value="@newProposal("userGroup").value">
    <input type="hidden" name="track" value="@newProposal("track").value">
    <input type="hidden" name="demoLevel" value="@newProposal("demoLevel").value">
    <input type="hidden" name="videoLink" value="@newProposal("videoLink").value">
    <input type="hidden" name="preferences" value="@newProposal("preferences").value">
    <input type="hidden" name="tags[0].value" value="@newProposal("tags[0].value").value">
    <input type="hidden" name="tags[1].value" value="@newProposal("tags[1].value").value">
    <input type="hidden" name="tags[2].value" value="@newProposal("tags[2].value").value">
    <input type="hidden" name="tags[3].value" value="@newProposal("tags[3].value").value">
    <input type="hidden" name="tags[4].value" value="@newProposal("tags[4].value").value">


    <input type="hidden" name="id" value="@newProposal("id").value">

    <li> <button class="label label-accepted" name="a" value="saveDraft"><i class="icon-file-text"></i> save as accepted</button></li>
}

                    </ul>

                </div>
            </div>
            </div>
        </div>
    </div>

}