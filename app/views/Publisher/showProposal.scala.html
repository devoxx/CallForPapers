@(proposal: Proposal, publishedConfiguration: Option[String], slot: Option[Slot])(implicit lang: Lang, flash: Flash, req: RequestHeader  )
@import org.joda.time.DateTimeZone

@views.html.Publisher.devoxxFR2017(proposal.id + " " + proposal.title,Some(s"${proposal.title} "+Messages("sw.all." + proposal.talkType.id))) {

    <div class="large-12 columns">

    @if(slot.isDefined && publishedConfiguration.isDefined) {
        <p class="breadcrumb"><a href="@routes.Publisher.homePublisher()">@Messages("sw.home")</a> &gt;
            <a href="@routes.Publisher.showByTalkType(proposal.talkType.id)">@Messages("sw.all." + proposal.talkType.id)</a>  &gt;
            @if(ConferenceDescriptor.isShowRoomAndTimeslot) {
                <a href="@routes.Publisher.showByDay(slot.get.day)">@Messages(s"sw.agenda.${slot.get.day}")</a> &gt;
            }
            <a href="@routes.Publisher.showAgendaByConfType(proposal.talkType.id, publishedConfiguration, slot.map(_.day).getOrElse("wednesday"))">@Messages(slot.get.proposal.map(_.talkType.id).getOrElse("conf")) @Messages("sw.agenda."+ slot.map(_.day).getOrElse("sw.agenda.wed"))</a>

        </p>
    } else {
        <p class="breadcrumb"><a href="@routes.Publisher.homePublisher()">@Messages("sw.home")</a></p>
    }
    </div>
    <div class="clearfix"></div>

    <div class="columns large-offset-1 large-11">
        <h1>@proposal.title</h1>
        @if(UserCFPController.findAuthenticator.isDefined){
            @if(!FavoriteTalk.isFavByThisVisitor(proposal.id , req.session.get("uuid").getOrElse(""))) {

            <a style="text-decoration: none" href="@routes.Favorites.addAsFavorite(proposal.id)"><img style="height: 20px; width: 20px;"  src="https://image.flaticon.com/icons/png/128/149/149220.png" style="height: 40px ; width: 40px"/>
                </a><br/>
            <h6 style="color: #e2061a">@Messages("fav-talk")</h6>
        }else{
            <a style="text-decoration: none" href="@routes.Favorites.removefromFavorite(proposal.id)"><img style="height: 20px; width: 20px;"  src="https://image.flaticon.com/icons/png/128/148/148839.png" style="height: 40px ; width: 40px"/>
                 </a> <br/><h6 style="color: #e2061a ;">@Messages("unfav-talk")</h6>

        }}

        <h3><a href="@routes.Publisher.showByTalkType(proposal.talkType.id)">@Messages(proposal.talkType.id)</a></h3>
    </div>

    <div class="columns large-offset-1 large-6">
        <table>
            <tbody>
                <tr>
                    <td colspan="2">
                        @tags.publisher.renderIconForTrack(proposal.track) @Messages(proposal.track.label)
                    </td>
                </tr>
                @if(slot.isDefined) {
                    @if(ConferenceDescriptor.isShowRoomAndTimeslot) {
                        <tr>
                            <td>
                                @if(ConferenceDescriptor.isShowRoom) {
                                    <h4 style="padding-top: 10px;">@slot.map(_.room.name)</h4>
                                }else{
                                    &nbsp;
                                }
                            </td>
                            <td style="text-align: right">@slot.get.from.toDateTime(DateTimeZone.forID("Europe/Brussels")).toString("EEEE")
                                from @slot.get.from.toDateTime(DateTimeZone.forID("Europe/Brussels")).toString("HH:mm") til @slot.get.to.toDateTime(DateTimeZone.forID("Europe/Brussels")).toString("HH:mm")</td>
                        </tr>
                    }
                }

                <tr>
                    <td colspan="2">@Html(proposal.summaryAsHtml)</td>
                </tr>

            </tbody>
        </table>
    </div>
    <div class="row">
        <div class="large-4 medium-5 columns fadeInUp animated" style="opacity : 1 ;">
            <table>
            @proposal.allSpeakers.map { speaker =>
                <tr>
                    <th> <img src="@speaker.avatarUrl" width="64" height="64" alt="@speaker.cleanName" title="@speaker.cleanName">
                        <a href="@routes.Publisher.showSpeakerByName(speaker.urlName)">@speaker.cleanName</a>
                    </th>
                </tr>
                <tr>
                    <td>@Html(speaker.bioAsHtml)</td>
                </tr>
            }
            </table>
        </div>

    </div>

}